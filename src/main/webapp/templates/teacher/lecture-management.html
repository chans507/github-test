<!-- <%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %> -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- bootstrap preset start -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>
    <!-- bootstrap preset end -->
    <!-- jquery set start -->
    <script src="../../resources/js/jquery-3.7.1.min.js"></script>
    <!-- jquery set end -->
    <!-- stylesheet group start -->
    <link rel="stylesheet" href="../../resources/css/project_v01.1.css" />
    <!-- stylesheet group end -->
    <!-- tab title start -->
    <title>비대면 과제관리</title>
    <!-- tab title end -->
    <style>
        #class_content, #table_add{
            border-collapse: collapse;
            width: 100%;
            padding-right: 500px;
            border-color: gray;
        }

        .chwidth1 {
            width: 3%;
        }

        .thwidth1 {
            width: 3%;
        }

        .thwidth2 {
            width: 65%;
        }

        .thwidth3 {
            width: 30px;
        }

        th,
        td {
            border: 1px solid #b9b9b9;
        }

        th {
            background-color: #c2dcff;
        }

        thead {
            background-color: #f2f2f2;
        }
    </style>
</head>

<body>
<!-- top main header start -->
    <div id="mainHeader" 
        class="justify-content-center align-content-start offcanvas offcanvas-top show m-0 p-0"
        data-bs-scroll="true" data-bs-backdrop="false" data-bs-keyboard="false" tabindex="-1" 
        aria-labelledby="offcanvasLabel"
        style="width: 100vw; height: min-content; z-index: 1046;">
        <div id="headerUser" class="d-flex justify-content-end align-content-center flex-wrap" style="height: 50px;">
            <span class="d-flex align-content-center flex-wrap" style="height: 50px;">
                <span id="">반갑습니다. 홍길동 선생님</span>
            </span>
            &nbsp;&nbsp;&nbsp;
            <span class="d-flex align-content-center flex-wrap h-100">
                <a href="../common/my-page.html" id="" class="darkBtn btn rounded" style="height: 75%;">마이 페이지</a>
            </span>
            &nbsp;&nbsp;&nbsp;
            <span class="d-flex align-content-center flex-wrap h-100">
                <a href="../common/login.html" id="" class="darkBtn btn rounded" style="height: 75%;">로그아웃</a>
            </span>
            &nbsp;&nbsp;&nbsp;
        </div>
        <div id="headerTitle" class="d-flex justify-content-between flex-wrap" style="height: 150px;">
            <div id="documentTitle" class="d-flex flex-wrap align-content-center">
                <p>
                    비대면 과제관리<br>
                    시스템
                </p>
            </div>
        </div>
    </div>
<!-- top main header end -->
<!-- side nav menu accordion start -->
    <div id="panelNav" class="offcanvas offcanvas-bottom show" 
        data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1" 
        aria-labelledby="offcanvasLabel"
        style="width: 256px; height: 100vh;">
        <div id="navSideBar" class="accordion accordion-flush" style="background-color: #223964;">
            <div id="accordionFst" class="defCollaps accordion-item">
                <h2 id="" class="accordion-header ">
                    <button id="" class="accordion-button"
                        style="font-weight: bold; color: white; background-color: #223964;" type="button"
                        data-bs-toggle="collapse" data-bs-target="#collapseFst" aria-expanded="true"
                        aria-controls="collapseFst">
                        강의 관리
                    </button>
                </h2>
                <div id="collapseFst" class="defCollaps accordion-collapse collapse show" style="border-style:none;" data-bs-parent="#navSideBar">
                    <div id="" class="accordion-body row row-cols-2 m-0 p-0" style="width: 100%">
                        <a href="../teacher/lecture-management.html" id="" class="btn d-flex col flex-wrap justify-content-center align-content-center h-50" style="width: 97%; font-weight: bold;">
                            <span>강의 관리</span>
                        </a>
                        <div class="blank d-flex col flex-wrap m-0 p-0" style="width: 3%;"></div>
                    </div>
                </div>
            </div>
            <div id="accordionSnd" class="defCollaps accordion-item">
                <h2 id="" class="accordion-header ">
                    <button id="" class="accordion-button collapsed "
                        style="font-weight: bold; color: white; background-color: #223964;" type="button"
                        data-bs-toggle="collapse" data-bs-target="#collapseSnd" aria-expanded="false"
                        aria-controls="collapseSnd">
                        과제 관리
                    </button>
                </h2>
                <div id="collapseSnd" class="defCollaps accordion-collapse collapse" style="border-style:none;" data-bs-parent="#navSideBar">
                    <div id="" class="accordion-body row row-cols-2 m-0 p-0" style="width: 100%">
                        <a href="../teacher/assignment-list.html" id="" class="btn d-flex col flex-wrap justify-content-center align-content-center h-50" style="width: 97%; font-weight: bold;">
                            <span>과제 관리</span>
                        </a>
                        <div class="blank d-flex col flex-wrap m-0 p-0" style="width: 3%;"></div>
                    </div>
                </div>
            </div>
            <div id="accordionTrd" class="defCollaps accordion-item">
                <h2 id="" class="accordion-header ">
                    <button id="" class="accordion-button collapsed "
                        style="font-weight: bold; color: white; background-color: #223964;" type="button"
                        data-bs-toggle="collapse" data-bs-target="#collapseTrd" aria-expanded="false"
                        aria-controls="collapseTrd">
                        학생 관리
                    </button>
                </h2>
                <div id="collapseTrd" class="defCollaps accordion-collapse collapse" style="border-style:none;" data-bs-parent="#navSideBar">
                    <div id="" class="accordion-body row row-cols-2 m-0 p-0" style="width: 100%">
                        <a href="../teacher/student-list.html" id="" class="btn d-flex col flex-wrap justify-content-center align-content-center h-50" style="width: 97%; font-weight: bold;">
                            <span>학생 명단</span>
                        </a>
                        <div class="blank d-flex col flex-wrap m-0 p-0" style="width: 3%;"></div>
                    </div>
                </div>
            </div>
            <!-- <div id="accordionFth" class="defCollaps accordion-item">
                <h2 id="" class="accordion-header">
                    <button id="" class="accordion-button collapsed "
                        style="font-weight: bold; color: white; background-color: #223964;" type="button"
                        data-bs-toggle="collapse" data-bs-target="#collapseFth" aria-expanded="false"
                        aria-controls="collapseFth">
                        통계 및 리포트
                    </button>
                </h2>
                <div id="collapseFth" class="defCollaps accordion-collapse collapse" style="border-style:none;" data-bs-parent="#navSideBar">
                    <div id="" class="accordion-body row row-cols-2 m-0 p-0" style="width: 100%">
                        <a href="../teacher/statistics.html" id="" class="btn d-flex col flex-wrap justify-content-center align-content-center h-50" style="width: 97%; font-weight: bold;">
                            <span>통계 및 리포트</span>
                        </a>
                        <div class="blank d-flex col flex-wrap m-0 p-0" style="width: 3%;"></div>
                    </div>
                </div>
            </div> -->
        </div>
    </div>
<!-- side nav menu accordion end -->
    <div id="" style="padding-top: 200px; padding-left: 300px; padding-right: 200px;">
        <!-- content field start -->
        <div style="text-align:center; margin: 5%;">
            <h4 style="text-align: left;"><b>● 강의 관리</b></h4>
            <form class="search-box" action="" method="get";>
                <input type="text" id="class" class="form-control" style=" width:250px; float:left;" placeholder="강의명">
                <button type="submit" class="btn btn-primary" style="float:left; background-color: #3a8efd;">검색</button>
            </form>
            <br>
            <div stlye="height:30px;"></div>
                <form class="showBtn" style="display: none;">
                    <button type="submit" class="btn btn-outline-primary" style="float: right; padding-block: 5px; color:#000000;"><b>저장</b></button>

                    <button type="submit" class="btn btn-outline-secondary" style="color:#000000; float: right; padding-block: 5px; margin-right: 5px;"><b>추가</b></button>
                    
                    <button type="submit" class="btn btn-outline-secondary" style="color:#000000; float: right; padding-block: 5px; margin-right: 5px;"><b>제거</b></button>
                </form>
                <div style="height: 40px;"></div>
            <table id="table_add">
                <tbody>
                    <!-- 테이블 행 추가 -->
                </tbody>
            </table>

            <div style="height: 50px;"></div>
            <form>
                <button type="button" onclick="addRow(); showBtn();" class="btn btn-outline-primary" style="float: right; padding-block: 5px; color:#000000;"><b>생성</b></button>

                <button type="button" class="btn btn-outline-secondary" style="color:#000000; float: right; padding-block: 5px; margin-right: 5px;"><b>편집</b></button>

                <button type="button" class="btn btn-outline-secondary" onclick="class_Delete()" style="color:#000000; float: right; padding-block: 5px; margin-right: 5px;"><b>삭제</b></button>
            </form>
            <div style="height: 40px;"></div>
        </form>

        <table id="class_content">
            <tr style="height: 40px;">
                <!-- 전체 선택 체크 박스 버튼 -->
                <th class="chwidth1"><input type="checkbox" name="check" class="class_add" onclick='selectAll(this)'></td>
                <th class="thwidth1">번호</td>
                <th class="thwidth2">강의명</td>
                <th class="thwidth3">생성일</td>
                <th class="thwidth3">마감일</td>
            </tr>
            <tr>
                <!-- 체크 박스 네임 지정 -->
                <td><input type="checkbox" name="check"></td>
                <td>1</td>
                <td>자바의 정석</td>
                <td>2025.09.29</td>
                <td>2025.09.29</td>
            </tr>
            <tr>
                <td><input type="checkbox" name="check"></td>
                <td>2</td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr bgcolor="#d3d3d3">
                <td><input type="checkbox" name="check"></td>
                <td>3</td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr bgcolor="#d3d3d3">
                <td><input type="checkbox" name="check"></td>
                <td>4</td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr bgcolor="#d3d3d3">
                <td><input type="checkbox" name="check"></td>
                <td>5</td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr bgcolor="#d3d3d3">
                <td><input type="checkbox" name="check"></td>
                <td>6</td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr bgcolor="#d3d3d3">
                <td><input type="checkbox" name="check"></td>
                <td>7</td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
        </table>
        </div>
        <!-- content field end -->
    </div>
    <script>
    let rowsAdded = 0;

    function addRow() {
        const tableBody = document.getElementById("table_add").getElementsByTagName("tbody")[0];

        if (rowsAdded === 0) {
        // 처음 추가: 2개 서로 다른 행

        const row1 = tableBody.insertRow();
        row1.style.backgroundColor = "#c2dcff";
        
        const cell0 = row1.insertCell(0);
        cell0.innerHTML = "<input type='checkbox'>";
        cell0.className = "chwidth1"

        const cell1 = row1.insertCell(1);
        cell1.innerText = "번호";
        cell1.className = "thwidth1"

        const cell2 = row1.insertCell(2);
        cell2.innerText = "강의명";
        cell2.className = "thwidth2"

        const cell3 = row1.insertCell(3);
        cell3.innerText = "생성일";
        cell3.className = "thwidth3"

        const cell4 = row1.insertCell(4);
        cell4.innerText = "마감일";
        cell4.className = "thwidth3"

        for (let i = 0; i < row1.cells.length; i++) {
            row1.cells[i].style.fontWeight = "bold";
        }

        const row2 = tableBody.insertRow();
        row2.insertCell(0).innerHTML = "<input type='checkbox' style='width:20px;'>";
        row2.insertCell(1).innerText = rowsAdded + 1;
        row2.insertCell(2).innerHTML = "<input type='text' style='border:none; box-sizing: content-box; width: 97%;'>";
        row2.insertCell(3).innerHTML = "<input type='text' style='border:none; box-sizing: content-box; width: 90%;'>";
        row2.insertCell(4).innerHTML = "<input type='text' style='border:none; box-sizing: content-box; width: 90%;'>";
        rowsAdded = 2;
        }
        else {
        // 이후 추가: 한 줄씩
        const newRow = tableBody.insertRow();

        newRow.insertCell(0).innerHTML = "<input type='checkbox' style='width:20px;'>";
        newRow.insertCell(1).innerText = `${rowsAdded + 1 - 1}`;
        newRow.insertCell(2).innerHTML = "<input type='text' style='border:none; box-sizing: content-box; width: 97%;'>";
        newRow.insertCell(3).innerHTML = "<input type='text' style='border:none; box-sizing: content-box; width: 90%;'>";
        newRow.insertCell(4).innerHTML = "<input type='text' style='border:none; box-sizing: content-box; width: 90%;'>";

        rowsAdded += 1;
      }
    }

    // 전체 선택 체크 박스 실행
    function selectAll(selectAll){
        let checkboxes = document.getElementsByName("check");

        for(let checkbox of checkboxes){
            checkbox.checked = selectAll.checked;
        }
    };

    // 버튼 띄우기
    function showBtn(){
        const buttons = document.getElementsByClassName("showBtn");
        for(let i  = 0; i < buttons.length; i++)
        {
            buttons[i].style.display = "block";
        }
    };

    function class_Delete(){
        const checkboxes = document.getElementsByName("check");
        
        let isChecked = false;

        for(let i = 0; i < checkboxes.length; i++)
        {
            if(checkboxes[i].checked)
            {
                isChecked = true;
                break;
            }
        }

        if(isChecked){
            confirm("삭제하시겠습니까?");
        }
        else{
            alert("삭제할 행을 선택해주세요.");
        }
    };

    </script>
</body>

